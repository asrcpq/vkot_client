split apaterm as a module

todo:
split server msg
