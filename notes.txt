clean rewrite of put and loc(2 major underlying cursor ops)

todo:
split server msg
